(this["webpackJsonpcard-maker"]=this["webpackJsonpcard-maker"]||[]).push([[0],{10:function(e,t,a){e.exports={editform:"editForm_editform__1j8TS",inputbox:"editForm_inputbox__3pVVU",input:"editForm_input__1mWxF",textarea:"editForm_textarea__sam04",file_button:"editForm_file_button__3FrXH",button:"editForm_button__2zG8i",delete:"editForm_delete__16KCY",save:"editForm_save__39DPS"}},13:function(e,t,a){e.exports={card_container:"card_card_container__1kcAm",dark:"card_dark__1kLq2",light:"card_light___9Now",colorful:"card_colorful__15xPO",image:"card_image__2TAoz",metadata:"card_metadata__1-mRm",name:"card_name__suuuX",line:"card_line__NnaHj",company:"card_company__3-Vrb",title:"card_title__3NurW",email:"card_email__1Xr5s",message:"card_message__3q65E"}},18:function(e,t,a){e.exports={makerMint:"#2AC1BC",makerWhite:"white",header:"header_header__IsICe",title:"header_title__32TcD",icon:"header_icon__11xcT",profile:"header_profile__ajmri",logout_button:"header_logout_button__A09td",invisible:"header_invisible__3QpWC",visible:"header_visible__Y_mj1"}},19:function(e,t,a){e.exports={container:"join_container__2eGOJ",join:"join_join__20776",form:"join_form__2BFhV",title:"join_title__1x2o7",input:"join_input__3wujw",button:"join_button__3kIdb"}},21:function(e,t,a){e.exports={file_button:"image_input_file_button__2X0uu",grey:"image_input_grey__2KFfY",pink:"image_input_pink__hTzdv",white:"image_input_white__1XW6c",input:"image_input_input__2z7dY",loading_text:"image_input_loading_text__20jIN",loading:"image_input_loading__2Vkud",spin:"image_input_spin__3j69-"}},24:function(e,t,a){e.exports={container:"maker_container__1DK8e",items:"maker_items__3eJn5",main:"maker_main__36U1J",loading:"maker_loading__3JLgS",loading_circle:"maker_loading_circle__1kHlX",spin:"maker_spin__2EzvU",line:"maker_line__20na3"}},32:function(e,t,a){e.exports={container:"preview_container__2cocB",title:"preview_title__Bd40I",cards:"preview_cards__2hLfZ"}},33:function(e,t,a){e.exports={container:"editor_container__1LnxN",title:"editor_title__27GbD",form:"editor_form__WObom"}},36:function(e,t,a){e.exports={makerMint:"#2AC1BC",makerWhite:"white",footer:"footer_footer__23vLC",title:"footer_title__3DPqd"}},43:function(e,t,a){e.exports={container:"home_container__Fy1-D"}},48:function(e,t,a){},49:function(e,t,a){e.exports={makerBlack:"black",makerWhite:"white",makerLightPink:"#ffeae8"}},58:function(e,t,a){},6:function(e,t,a){e.exports={makerPink:"#FFB1B9",makerBorderGrey:"#e0e0e0",home:"login_home__2NuLO",loginBox:"login_loginBox__39xTz",title:"login_title__1iwLo",form:"login_form__74FWp",input:"login_input__2xTQq",loginButton:"login_loginButton__2f6a1",button:"login_button__AHLDT",textBox:"login_textBox__1rgmr",join:"login_join__2zZvn",forgot:"login_forgot__3TpvE",lineBox:"login_lineBox__1PCHX",or:"login_or__3q5MW",line:"login_line__2Keaw",socialLogin:"login_socialLogin__36Q-7",socialIcon:"login_socialIcon__OZodS",github:"login_github__2yUOJ",google:"login_google__3Fh2q"}},65:function(e,t,a){"use strict";a.r(t);var n=a(8),c=a(2),r=a.n(c),i=a(41),o=a.n(i),s=(a(48),a(49),a(50),a(30)),l=a(5),u=a(31),d=(a(53),a(55),"business-card-maker-f93e9"),m={apiKey:"".concat("AIzaSyB_pR9ec7YeBNSYR9cdbT8lOk98ggucB30"),authDomain:"".concat(d,".firebaseapp.com"),databaseURL:"https://".concat(d,"-default-rtdb.firebaseio.com/"),projectId:"".concat(d),appId:"".concat("1:506952040370:web:7c9208d5f979c509752eab")},j=u.a.initializeApp(m),b=j.auth(),p=j.database(),h=new u.a.auth.GoogleAuthProvider,_=new u.a.auth.GithubAuthProvider,f=(a(58),a(14)),x=a.n(f),g=a(20),O=a(36),v=a.n(O),k=a(1),N=Object(c.memo)((function(e){return console.log("footer"),Object(k.jsx)("footer",{className:v.a.footer,children:Object(k.jsx)("h3",{className:v.a.title,children:"Made by nyang-in"})})})),y=a(16),w=a(18),C=a.n(w),L=Object(c.memo)((function(e){var t=e.authService,a=Object(c.useState)(null),n=Object(y.a)(a,2),r=n[0],i=n[1],o=Object(c.useState)(C.a.invisible),s=Object(y.a)(o,2),l=s[0],u=s[1];return Object(c.useEffect)((function(){return t.onAuthChange((function(e){e&&i(e.photoURL?e.photoURL:"https://res.cloudinary.com/dgdkgkx1k/image/upload/v1621576762/xznnmjj9tfodjcbypkc9.jpg")})),function(){i(null)}}),[t]),console.log("header"),Object(k.jsxs)("header",{className:C.a.header,children:[Object(k.jsx)("img",{src:"/favicon.ico",alt:"icon",className:C.a.icon}),Object(k.jsx)("h3",{className:C.a.title,children:"BUSINESS CARD MAKER"}),r?Object(k.jsxs)(k.Fragment,{children:[Object(k.jsx)("img",{src:r,alt:"profile",className:C.a.profile,onClick:function(){l===C.a.visible?u(C.a.invisible):u(C.a.visible)}}),Object(k.jsx)("button",{className:"".concat(C.a.logout_button," ").concat(l),onClick:function(){t.logout()},children:"Logout"})]}):null]})})),U=a(6),F=a.n(U),R=function(e){var t=e.database,a=e.authService,n=Object(l.e)(),r=Object(c.useRef)(),i=Object(c.useRef)(),o=Object(c.useCallback)((function(e,t){n.push({pathname:"/maker",state:{uid:e,avatar:t}})}),[n]),u=function(){var e=Object(g.a)(x.a.mark((function e(n){var c,r;return x.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,a.login(n.currentTarget.name);case 2:return c=e.sent,e.next=5,c.user;case 5:return r=e.sent,e.next=8,t.isUser(r.uid);case 8:e.sent||t.registerNewUser(r.uid,r.email,r.photoURL),o(r.uid,r.photoURL);case 11:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),d=function(e){e.preventDefault();var t=r.current.value,n=i.current.value;a.localLogin(t,n).then((function(e){if(void 0!==e){var t=e.user;o(t.uid,t.photoURL)}}))};return Object(c.useEffect)((function(){return a.onAuthChange((function(e){e&&o(e.uid,e.photoURL)})),function(){}}),[a,o]),console.log("login"),Object(k.jsxs)("section",{className:F.a.home,children:[Object(k.jsx)(L,{authService:a}),Object(k.jsxs)("section",{className:F.a.loginBox,children:[Object(k.jsx)("h1",{className:F.a.title,children:"LOGIN"}),Object(k.jsxs)("form",{onSubmit:d,className:F.a.form,children:[Object(k.jsx)("input",{className:F.a.input,type:"text",placeholder:"id",name:"id",ref:r}),Object(k.jsx)("input",{className:F.a.input,type:"password",placeholder:"password",name:"password",ref:i}),Object(k.jsx)("button",{onSubmit:d,className:"".concat(F.a.loginButton," ").concat(F.a.button),type:"submit",children:"Login"}),Object(k.jsxs)("div",{className:F.a.textBox,children:[Object(k.jsx)(s.b,{to:{pathname:"/join"},children:Object(k.jsx)("span",{className:F.a.join,children:"Join"})}),Object(k.jsx)(s.b,{to:{pathname:"/find"},children:Object(k.jsx)("span",{className:F.a.forgot,children:"Forgot your ID / Password?"})})]})]}),Object(k.jsxs)("div",{className:F.a.lineBox,children:[Object(k.jsx)("hr",{className:F.a.line}),Object(k.jsx)("span",{className:F.a.or,children:"OR"}),Object(k.jsx)("hr",{className:F.a.line})]}),Object(k.jsxs)("button",{type:"button",name:"Github",className:"".concat(F.a.socialLogin," ").concat(F.a.button," ").concat(F.a.github),onClick:u,children:[Object(k.jsx)("i",{className:"fab fa-github ".concat(F.a.socialIcon)}),"Continue with Github \u2192"]}),Object(k.jsxs)("button",{type:"button",name:"Google",className:"".concat(F.a.socialLogin," ").concat(F.a.button," ").concat(F.a.google),onClick:u,children:[Object(k.jsx)("i",{className:"fab fa-google ".concat(F.a.socialIcon)}),"Continue with Google \u2192"]})]}),Object(k.jsx)(N,{})]})},S=a(43),I=a.n(S),B=function(e){var t=e.database,a=e.authService;return console.log("home"),Object(k.jsx)("div",{className:I.a.container,children:Object(k.jsx)(R,{authService:a,database:t})})},A=a(26),D=a(24),E=a.n(D),T=a(13),P=a.n(T),W=Object(c.memo)((function(e){var t,a=e.card,n=a.name,c=a.company,r=a.title,i=a.email,o=a.theme,s=a.message,l=a.fileURL,u=a.id;return"light"===o?t=P.a.light:"dark"===o?t=P.a.dark:"colorful"===o&&(t=P.a.colorful),console.log("card - ".concat(u)),Object(k.jsxs)("li",{className:"".concat(P.a.card_container," ").concat(t),children:[Object(k.jsx)("img",{className:P.a.image,src:l||"/images/unnamed.jpg",alt:"card_image"}),Object(k.jsxs)("div",{className:P.a.metadata,children:[Object(k.jsx)("h1",{className:P.a.name,children:n}),Object(k.jsx)("p",{className:P.a.company,children:c}),Object(k.jsx)("hr",{className:"".concat(P.a.line," ").concat(t)}),Object(k.jsx)("p",{className:P.a.title,children:r}),Object(k.jsx)("p",{className:P.a.email,children:i}),Object(k.jsx)("p",{className:P.a.message,children:s})]})]})})),z=a(32),G=a.n(z),M=function(e){var t=e.cards;return console.log("preview"),Object(k.jsxs)("section",{className:G.a.container,children:[Object(k.jsx)("span",{className:G.a.title,children:"Card Preview"}),Object(k.jsx)("ul",{className:G.a.cards,children:Object.keys(t).map((function(e){return Object(k.jsx)(W,{card:t[e]},e)}))})]})},J=a(9),q=a.n(J),V=Object(c.memo)((function(e){var t=e.FileInput,a=e.addCard,n=Object(c.useRef)(),r=Object(c.useRef)(),i=Object(c.useRef)(),o=Object(c.useRef)(),s=Object(c.useRef)(),l=Object(c.useRef)(),u=Object(c.useRef)(),d=Object(c.useState)({fileName:null,fileURL:null}),m=Object(y.a)(d,2),j=m[0],b=m[1];return console.log("addForm"),Object(k.jsx)(k.Fragment,{children:Object(k.jsxs)("form",{ref:n,className:q.a.addform,onSubmit:function(e){e.preventDefault();var t={name:r.current.value||"",company:i.current.value||"",title:o.current.value||"",email:s.current.value||"",message:l.current.value||"",fileURL:j.fileURL||"",fileName:j.fileName||"",theme:u.current.value||"",id:Date.now()};n.current.reset(),b({fileName:null,fileURL:null}),a(t)},children:[Object(k.jsxs)("div",{className:q.a.inputbox,children:[Object(k.jsx)("input",{ref:r,className:q.a.input,type:"text",name:"name",placeholder:"Name"}),Object(k.jsx)("input",{ref:i,className:q.a.input,type:"text",name:"company",placeholder:"Company"})]}),Object(k.jsxs)("div",{className:q.a.inputbox,children:[Object(k.jsx)("input",{ref:o,className:q.a.input,type:"text",name:"title",placeholder:"Title"}),Object(k.jsx)("input",{ref:s,className:q.a.input,type:"email",name:"email",placeholder:"Email"})]}),Object(k.jsx)("textarea",{ref:l,className:q.a.textarea,name:"message",placeholder:"Write down what you want to say."}),Object(k.jsxs)("div",{className:q.a.inputbox,children:[Object(k.jsx)(t,{onSelectImage:function(e){b({fileName:e.name,fileURL:e.url}),console.log(e)},fileName:j.fileName}),Object(k.jsxs)("select",{ref:u,className:q.a.input,name:"theme",children:[Object(k.jsx)("option",{value:"light",children:"light"}),Object(k.jsx)("option",{value:"dark",children:"dark"}),Object(k.jsx)("option",{value:"colorful",children:"colorful"})]}),Object(k.jsx)("button",{type:"submit",className:"".concat(q.a.button," ").concat(q.a.add," ").concat(q.a.input),children:"Add"})]})]})})})),H=a(10),K=a.n(H),X=Object(c.memo)((function(e){var t=e.FileInput,a=e.card,c=e.card,r=c.name,i=c.company,o=c.title,s=c.email,l=c.theme,u=c.message,d=(c.fileURL,c.fileName),m=c.id,j=e.deleteCard,b=e.updateCard,p=function(e){var t=e.currentTarget.name,c=e.currentTarget.value;b(Object(n.a)(Object(n.a)({},a),{},Object(A.a)({},t,c)))};return console.log("editForm: ".concat(m)),Object(k.jsxs)("form",{className:K.a.editform,children:[Object(k.jsxs)("div",{className:K.a.inputbox,children:[Object(k.jsx)("input",{className:K.a.input,type:"text",name:"name",placeholder:"Name",defaultValue:r,onChange:p}),Object(k.jsx)("input",{className:K.a.input,type:"text",name:"company",placeholder:"Company",defaultValue:i,onChange:p})]}),Object(k.jsxs)("div",{className:K.a.inputbox,children:[Object(k.jsx)("input",{className:K.a.input,type:"text",name:"title",placeholder:"Title",defaultValue:o,onChange:p}),Object(k.jsx)("input",{className:K.a.input,type:"email",name:"email",placeholder:"Email",defaultValue:s,onChange:p})]}),Object(k.jsx)("textarea",{className:K.a.textarea,name:"message",placeholder:"Write down what you want to say.",defaultValue:u,onChange:p}),Object(k.jsxs)("div",{className:K.a.inputbox,children:[Object(k.jsx)(t,{id:m,onSelectImage:function(e){b(Object(n.a)(Object(n.a)({},a),{},{fileName:e.name,fileURL:e.url}))},fileName:d}),Object(k.jsxs)("select",{onChange:p,className:K.a.input,name:"theme",defaultValue:l,children:[Object(k.jsx)("option",{value:"light",children:"light"}),Object(k.jsx)("option",{value:"dark",children:"dark"}),Object(k.jsx)("option",{value:"colorful",children:"colorful"})]}),Object(k.jsx)("button",{onClick:function(){j(m)},className:"".concat(K.a.button," ").concat(K.a.input," ").concat(K.a.delete),children:"Delete"})]})]})})),Y=a(33),Z=a.n(Y),Q=function(e){var t=e.FileInput,a=e.cards,n=e.addCard,c=e.deleteCard,r=e.updateCard;return console.log("editor"),Object(k.jsxs)("section",{className:Z.a.container,children:[Object(k.jsx)("h1",{className:Z.a.title,children:"Card Maker"}),Object(k.jsxs)("div",{className:Z.a.form,children:[Object.keys(a).map((function(e){return Object(k.jsx)(X,{FileInput:t,card:a[e],deleteCard:c,updateCard:r},e)})),Object(k.jsx)(V,{FileInput:t,addCard:n})]})]})},$=Object(c.memo)((function(e){var t=e.database,a=e.authService,r=e.FileInput,i=Object(l.e)(),o=i.location,s=o.state,u=o.state,d=u.uid,m=u.avatar,j=Object(c.useState)({}),b=Object(y.a)(j,2),p=b[0],h=b[1],_=Object(c.useState)(s&&d),f=Object(y.a)(_,2),x=f[0],g=f[1],O=Object(c.useState)(!0),v=Object(y.a)(O,2),w=v[0],C=v[1];Object(c.useEffect)((function(){a.onAuthChange((function(e){e?g(d):i.push("/")}))}),[a,i,d]),Object(c.useEffect)((function(){if(x){var e=t.syncCards(x,(function(e){h(e),C&&C(!1)}));return function(){e(),C(!0)}}}),[x,t]);var U=Object(c.useCallback)((function(e){h(Object(n.a)(Object(n.a)({},p),{},Object(A.a)({},e.id,e))),t.AddUserCard(d,e)}),[t,p,d]),F=Object(c.useCallback)((function(e){h((function(t){var a=Object(n.a)({},t);return delete a[e],a})),t.DeleteUserCard(d,e)}),[t,d]),R=Object(c.useCallback)((function(e){h((function(t){var a=Object(n.a)({},t);return a[e.id]=e,a})),t.updateUserCard(d,e)}),[t,d]);return console.log("maker"),Object(k.jsx)("div",{className:E.a.container,children:Object(k.jsxs)("div",{className:E.a.items,children:[Object(k.jsx)(L,{avatar:m,authService:a}),Object(k.jsx)("div",{className:E.a.main,children:w?Object(k.jsxs)("div",{className:E.a.loading,children:[Object(k.jsx)("div",{className:E.a.loading_circle}),Object(k.jsx)("h1",{children:"Loading..."})]}):Object(k.jsxs)(k.Fragment,{children:[Object(k.jsx)(Q,{FileInput:r,cards:p,addCard:U,deleteCard:F,updateCard:R}),Object(k.jsx)("hr",{className:E.a.line}),Object(k.jsx)(M,{cards:p})]})}),Object(k.jsx)(N,{})]})})})),ee=a(19),te=a.n(ee),ae=function(e){var t=e.authService,a=e.database,n=Object(l.e)(),r=Object(c.useRef)(),i=Object(c.useRef)(),o=Object(c.useRef)(),s=function(){var e=Object(g.a)(x.a.mark((function e(c){var s,l;return x.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(c.preventDefault(),(s={email:r.current.value,password:i.current.value,password2:o.current.value}).password===s.password2){e.next=6;break}alert("\ube44\ubc00\ubc88\ud638\uac00 \uc77c\uce58\ud558\uc9c0 \uc54a\uc2b5\ub2c8\ub2e4."),e.next=24;break;case 6:if(u=s.password,!/^(?=.*[a-zA-Z])((?=.*\d)|(?=.*\W)).{6,20}$/.test(u)){e.next=23;break}return e.prev=7,e.next=10,t.createUser(s.email,s.password);case 10:if(void 0===(l=e.sent)){e.next=16;break}return e.next=14,a.isUser(l.user.uid);case 14:if(!e.sent)try{a.registerNewUser(l.user.uid,l.user.email,l.user.photoURL?l.user.photoURL:"https://res.cloudinary.com/dgdkgkx1k/image/upload/v1621576762/xznnmjj9tfodjcbypkc9.jpg"),n.push({pathname:"/maker",state:{uid:l.user.uid,avatar:l.user.photoURL?l.user.photoURL:"https://res.cloudinary.com/dgdkgkx1k/image/upload/v1621576762/xznnmjj9tfodjcbypkc9.jpg"}})}catch(d){console.log(d)}case 16:e.next=21;break;case 18:e.prev=18,e.t0=e.catch(7),console.log(e.t0);case 21:e.next=24;break;case 23:alert("\ube44\ubc00\ubc88\ud638\ub294 6~20\uc790 \uc0ac\uc774\uc758 \uc601\ubb38, \uc22b\uc790, \ud2b9\uc218\ubb38\uc790\ub97c \ud3ec\ud568\ud558\uc5ec\uc57c \ud569\ub2c8\ub2e4.");case 24:case"end":return e.stop()}var u}),e,null,[[7,18]])})));return function(t){return e.apply(this,arguments)}}();return Object(k.jsx)("div",{className:te.a.container,children:Object(k.jsxs)("div",{className:te.a.join,children:[Object(k.jsx)(L,{authService:t}),Object(k.jsxs)("form",{onSubmit:s,className:te.a.form,children:[Object(k.jsx)("h1",{className:te.a.title,children:"Join Business Card Maker"}),Object(k.jsx)("input",{className:te.a.input,type:"email",name:"email",placeholder:"email",required:!0,ref:r}),Object(k.jsx)("input",{className:te.a.input,type:"password",name:"password",placeholder:"password",required:!0,ref:i}),Object(k.jsx)("input",{className:te.a.input,type:"password",name:"password2",placeholder:"verify password",required:!0,ref:o}),Object(k.jsx)("button",{type:"submit",onSubmit:s,className:te.a.button,children:"join"})]}),Object(k.jsx)(N,{})]})})};var ne=function(e){var t=e.database,a=e.authService,c=e.FileInput;return Object(k.jsxs)(s.a,{children:[Object(k.jsx)(l.a,{path:["/","/home"],exact:!0,render:function(e){return Object(k.jsx)(k.Fragment,{children:Object(k.jsx)(B,Object(n.a)({authService:a,database:t},e))})}}),Object(k.jsx)(l.a,{path:"/maker",exact:!0,render:function(e){return Object(k.jsx)($,Object(n.a)({FileInput:c,authService:a,database:t},e))}}),Object(k.jsx)(l.a,{path:"/join",exact:!0,render:function(e){return Object(k.jsx)(ae,Object(n.a)({authService:a,database:t},e))}})]})},ce=a(27),re=a(28),ie=function(){function e(){Object(ce.a)(this,e)}return Object(re.a)(e,[{key:"login",value:function(e){var t=this.getProvider(e);return b.signInWithPopup(t).catch((function(e){console.log(e)}))}},{key:"logout",value:function(){return b.signOut()}},{key:"onAuthChange",value:function(e){b.onAuthStateChanged((function(t){e(t)}))}},{key:"userExist",value:function(){var e=b.currentUser;return e||null}},{key:"getProvider",value:function(e){switch(e){case"Google":return h;case"Github":return _;default:throw new Error("not supported provider : ".concat(e))}}},{key:"createUser",value:function(e,t){return b.createUserWithEmailAndPassword(e,t).catch((function(e){var t=e.code,a=e.message;"auth/weak-password"===t?alert("\ube44\ubc00\ubc88\ud638\ub294 6\uc790 \uc774\uc0c1\uc774\uc5b4\uc57c \ud569\ub2c8\ub2e4."):"auth/email-already-in-use"===t?alert("\uc774\ubbf8 \uc874\uc7ac\ud558\ub294 \uc774\uba54\uc77c \uc785\ub2c8\ub2e4."):"auth/invalid-email"===t?alert("\uc774\uba54\uc77c\uc774 \uc720\ud6a8\ud558\uc9c0 \uc54a\uc2b5\ub2c8\ub2e4."):alert(a),console.log(e)}))}},{key:"localLogin",value:function(e,t){return b.signInWithEmailAndPassword(e,t).catch((function(e){"auth/wrong-password"===e.code?alert("\ube44\ubc00\ubc88\ud638 \uc624\ub958\uc785\ub2c8\ub2e4."):"auth/invalid-email"===e.code?alert("\uc720\ud6a8\ud558\uc9c0 \uc54a\uc740 \uc774\uba54\uc77c \ud615\uc2dd\uc785\ub2c8\ub2e4."):"auth/user-not-found"===e.code&&alert("\uc874\uc7ac\ud558\uc9c0 \uc54a\ub294 \uc774\uba54\uc77c \uc785\ub2c8\ub2e4.")}))}}]),e}(),oe=function(){function e(){Object(ce.a)(this,e),this.CLOUDNAME="dgdkgkx1k",this.URL="https://api.cloudinary.com/v1_1/".concat(this.CLOUDNAME,"/image/upload")}return Object(re.a)(e,[{key:"upload",value:function(){var e=Object(g.a)(x.a.mark((function e(t){var a,n,c;return x.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return(a=new FormData).append("file",t),a.append("upload_preset","xbb9nwgu"),e.next=5,fetch(this.URL,{method:"POST",body:a});case 5:return n=e.sent,e.next=8,n.json();case 8:return c=e.sent,e.abrupt("return",{url:c.url,filename:c.original_filename});case 10:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()}]),e}(),se=a(21),le=a.n(se),ue=Object(c.memo)((function(e){var t=e.onSelectImage,a=e.fileName,n=e.imageUploader,r=e.id,i=Object(c.useState)(!1),o=Object(y.a)(i,2),s=o[0],l=o[1],u=Object(c.useRef)(),d=s?le.a.white:a?le.a.pink:le.a.grey,m=function(){var e=Object(g.a)(x.a.mark((function e(a){var c,r;return x.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return l(!0),c=a.currentTarget.files[0],e.next=4,n.upload(c);case 4:r=e.sent,l(!1),u.current.innerHTML=r.filename,t({name:r.filename,url:r.url});case 8:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}();return Object(k.jsxs)(k.Fragment,{children:[Object(k.jsxs)("label",{className:"".concat(le.a.file_button," ").concat(le.a.input," ").concat(d),htmlFor:r||"addform-input",children:[s&&Object(k.jsxs)(k.Fragment,{children:[Object(k.jsx)("h1",{className:le.a.loading_text,ref:u,children:"Loading..."}),Object(k.jsx)("div",{className:le.a.loading})]}),!s&&Object(k.jsx)("h1",{ref:u,children:a||"No File"})]}),Object(k.jsx)("input",{type:"file",name:"file",accept:"image/*",id:r||"addform-input",style:{display:"none"},onChange:m})]})})),de=function(){function e(){Object(ce.a)(this,e)}return Object(re.a)(e,[{key:"isUser",value:function(e){return p.ref().child("users").child(e).get().then((function(e){return!!e.exists()})).catch((function(e){console.error(e)}))}},{key:"registerNewUser",value:function(e,t,a){p.ref("users/".concat(e)).set({email:t,avatar:a||"https://res.cloudinary.com/dgdkgkx1k/image/upload/v1621576762/xznnmjj9tfodjcbypkc9.jpg",cards:{1:{name:"Chunsik",company:"Kakao",title:"Web Developer",email:"chunsik@kakao.com",theme:"dark",message:"Effort doesn't betray me.",fileURL:"http://res.cloudinary.com/dgdkgkx1k/image/upload/v1621667546/f2hocb54u6yn92aqis3k.jpg",fileName:"chunsik",id:"1"},2:{name:"Apeach",company:"Line",title:"Designer",email:"apeach@naver.com",theme:"light",message:"Don't give up on your dream.",fileURL:"http://res.cloudinary.com/dgdkgkx1k/image/upload/v1621667692/axliuzjpeopmsxwz8j9l.jpg",fileName:"little_apeach",id:"2"},3:{name:"Jordy",company:"Naver",title:"Product Manager",email:"jordy@naver.com",theme:"colorful",message:"Let's keep going!",fileURL:"http://res.cloudinary.com/dgdkgkx1k/image/upload/v1621667841/ledhkeyim4en5n5cices.jpg",fileName:"jordy",id:"3"}}})}},{key:"syncCards",value:function(e,t){var a=p.ref("/users/".concat(e,"/cards"));return a.on("value",(function(e){var a=e.val();a&&t(a)})),function(){return a.off()}}},{key:"updateUserCard",value:function(e,t){var a={};return a["/users/".concat(e,"/cards/").concat(t.id)]=t,p.ref().update(a)}},{key:"AddUserCard",value:function(e,t){p.ref("users/".concat(e,"/cards/").concat(t.id)).set(t)}},{key:"DeleteUserCard",value:function(e,t){p.ref("users/".concat(e,"/cards/").concat(t)).remove()}}]),e}(),me=new ie,je=new oe,be=new de,pe=Object(c.memo)((function(e){return Object(k.jsx)(ue,Object(n.a)(Object(n.a)({},e),{},{imageUploader:je}))}));o.a.render(Object(k.jsx)(r.a.StrictMode,{children:Object(k.jsx)(ne,{database:be,authService:me,FileInput:pe})}),document.getElementById("root"))},9:function(e,t,a){e.exports={addform:"addForm_addform__1HJvr",inputbox:"addForm_inputbox__2u-86",input:"addForm_input__2l-Mb",textarea:"addForm_textarea__3OgsY",file_button:"addForm_file_button__1_yR0",button:"addForm_button__1qZmJ",add:"addForm_add__i2Rhk"}}},[[65,1,2]]]);
//# sourceMappingURL=main.d2f2290f.chunk.js.map